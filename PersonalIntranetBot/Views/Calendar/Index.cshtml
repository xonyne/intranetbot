<div>
    @model List<PersonalIntranetBot.Models.OutlookEventsViewModel>;
    @{
        ViewData["Title"] = "My Calendar";
    }

    @if (!User.Identity.IsAuthenticated)
    {
        <br />
        <p>Choose <b>Sign in</b> at the top of the page and sign in with your work or school account.</p>
    }
    @if (User.Identity.IsAuthenticated)
    {
        <h2>Upcoming events</h2>
        @await Component.InvokeAsync("EventTable", new
        {
            eventList = Model
        })
    }
    @section Scripts
        {
        <script type="text/javascript">

                    $("button[type='button']").click(function () {
                        $("#myModal").find("#content").html($(this).attr("meeting-description"));
                    });

                    $(".descButton").click(function () {
                        $("#myModal").modal("show");
                    });

                    $("#hideModal").click(function () {
                        $("#myModal").modal("hide");
                    });
        </script>
    }
</div>